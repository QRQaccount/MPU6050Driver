# MPU6050Driver

对invensense官方以及正点原子的驱动进行的移植和学习

> MCU使用IIC对MPU6050进行控制、传递数据，需要依赖IIC操作库

## 移植


根据自身项目结构更改文件夹`MPU6050`中的文件存放位置。并更改引入的头文件。

### 需要修改的函数

1. `MPU6050/Src/inv_mpu.c`文件中的`mprintf`函数。这个函数用于实现报错信息的打印。传入参数的方式与`printf`函数相同。可以自行决定使用串口传递至上位机或是连接屏幕显示
2. `MPU6050/Src/inv_mpu.c`文件中的`mget_ms`函数。这个函数用于获取处理数据所需要的时间。STM32系列使用HAL库是可以用`HAL_GetTick()`实现

### 需要修改的宏

`MPU6050/Src/inv_mpu.c`文件中的`__IIC_WRITE`宏以及`__IIC_READ`宏。需要将自己的IIC读/写多个数据的功能的函数在这个宏中重新定义成规定的参数传入

1. addr 代表IIC从机地址,8位无符号整型
2. reg 设备中寄存器的地址,8位无符号整型
3. length 传输数据长度,16位无符号整型
4. buffer 传输数据内容,8位无符号整型指针类型

## API

参考代码注释